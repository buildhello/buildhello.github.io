"use strict";var searchFn=function(){var i="You are likely to be eaten by a grue.",l=["i","me","my","we","our","you","it","its","this","that","am","is","are","was","be","has","had","do","a","an","the","but","if","or","as","of","at","by","for","with","to","then","no","not","so","too","can","and","but"],h=document.createElement("textarea"),a=function(a){h.innerHTML=a;var b=h.value;return" "+b.trim().toLowerCase().replace(/[^0-9a-z ]/gi," ").replace(/\s+/g," ")+" "},e=30,g=2,f=!1,j=function(c){var b,a,d;c.sort(function(a,b){return b.weight-a.weight});for(b=0;b<c.length&&b<e;b+=1)a=c[b].item,d='<article class="post post-search-grid"><a class="title side-preview-image" href="'+a.permalink+'#article-title"'+'alt="'+a.showTitle+'"'+'style="background-image: linear-gradient(rgba(0, 0, 0,'+a.showTint+'),rgba(0, 0, 0,'+a.showTint+")),url('"+a.showImage+'\');"></a>'+'<p class="results-date">'+a.showDate+'</p>'+'<a  class="title post-search-title" href="'+a.permalink+'#article-title"><div>'+'<h3>'+a.showTitle+'</h3></div></a>'+'</article>',$("#results").append(d)},b=function(c,d,a){var b=0;return c.forEach(function(c){if(~a.indexOf(c.term))for(var e=a.indexOf(c.term);~e;)b+=c.weight*d,e=a.indexOf(c.term,e+1)}),b},k=function(a){var d=[],f;c.index.forEach(function(c){if(c.tags){var e=0;a.forEach(function(a){c.title.startsWith(a.term)&&(e+=a.weight*32)}),e+=b(a,1,c.content),e+=b(a,2,c.description),e+=b(a,2,c.subtitle),c.tags.forEach(function(c){e+=b(a,4,c)}),e+=b(a,16,c.title),e&&d.push({weight:e,item:c})}}),d.length?(f=d.length+" items found.",$("#results").addClass('resultsBox'),$("#results-search-title, #results-banner-title").addClass('results-title'),$(".search-results").addClass('search-up'),d.length>e&&(f+=" Showing first "+e+" results."),$("#results-info").html('<p class="b-news" id="results-message">'+f+'</p>'),j(d)):($("#results").removeClass('resultsBox'),$("#results-banner-title, #results-search-title").removeClass('results-title'),$(".search-results").removeClass('search-up'),$("#results-info").html('<p class="b-news" id="results-message">No items found.</p>'))},d=function(){var c,p,h,m,b,d,o,e,j,n,q;if(f)return;if(c=a($("#searchBox").val()).trim(),c===i)return;if(i=c,c.length<g){$("#results-info").html('<p class="b-news" id="results-message">No items found.</p>'),$("#results").html(' '),$("#btnGo").attr("disabled",!0),$("#results").removeClass('resultsBox'),$("#results-banner-title, #results-search-title").removeClass('results-title'),$(".search-results").removeClass('search-up');return}$("#btnGo").removeAttr("disabled"),f=!0,p=new Date,$("#results-info").html('<p class="b-news" id="results-message">Processing search...</p>'),h=c.split(" "),m=[];for(b=0;b<h.length;b+=1)for(d=b;d<h.length;d+=1){o=Math.pow(2,d-b),e="";for(j=b;j<=d;j+=1)e+=h[j]+" ";n=e.trim(),n.length>=g&&l.indexOf(n)<0&&m.push({weight:o,term:" "+e.trim()+" "})}k(m),f=!1,q=new Date,$("#results-info").append('<p class="b-news" id="results-message"><small>Search took '+(q-p)+'ms.</small></p>')},m=function(){$("#searchBox").keyup(function(){d()}),$("#btnGo").click(function(){d();var a=window.location.href.split("#")[0];a=a+"#"+"results",window.location.href=a}),d()},c;$("#searchBox").hide(),$("#btnGo").hide(),c={},$.getJSON("/index.json",function(d){c.index=[];var b={};d.forEach(function(d){var e,f;d.tags&&!b[d.permalink]&&(e={},e.showTitle=d.title,e.showDescription=d.description,e.showDate=d.date,e.showSummary=d.summary,e.showAuthor=d.author,e.showImage=d.image,e.showTint=d.tint,e.title=a(d.title),e.subtitle=a(d.subtitle),e.description=a(d.description),e.content=a(d.summary),f=[],d.tags.forEach(function(b){return f.push(a(b))}),e.tags=f,e.permalink=d.permalink,c.index.push(e),b[d.permalink]=!0)}),$("#loading").hide(),$("#btnGo").show(),$("#searchBox").show().removeAttr("disabled").focus(),m()})};window.addEventListener("DOMContentLoaded",searchFn)