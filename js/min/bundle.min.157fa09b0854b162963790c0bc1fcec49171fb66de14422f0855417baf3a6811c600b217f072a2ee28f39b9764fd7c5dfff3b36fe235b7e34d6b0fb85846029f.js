var scroll=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},elementsToShow=document.querySelectorAll(".show-on-scroll"),elementsToAnimate=document.querySelectorAll(".animate-1-on-scroll");function loop(){Array.prototype.forEach.call(elementsToShow,function(e){isElementInViewport(e)?e.classList.add("is-visible"):e.classList.remove("is-visible")}),Array.prototype.forEach.call(elementsToAnimate,function(e){isElementInViewport(e)&&e.animate([{opacity:0},{opacity:.3},{opacity:1}],{duration:8800,delay:500,fill:"forwards"})}),scroll(loop)}function isElementInViewport(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top<=0&&0<=t.bottom||t.bottom>=(window.innerHeight||document.documentElement.clientHeight)&&t.top<=(window.innerHeight||document.documentElement.clientHeight)||0<=t.top&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)}function init(){window.onscroll=function(){window.pageYOffset>=t?e.classList.add("sticky"):e.classList.remove("sticky")};var e=document.getElementById("navigation"),t=e.offsetTop;$(".hamburger").on("click",function(){$(this).toggleClass("is-active"),$("#drop-down").toggleClass("drop-down")}),$(".hamburger").off("click",function(){$(this).toggleClass("is-active"),$("#drop-down").toggleClass("drop-down")}),$(".sample-flip").click(function(){$(".mock-up").toggleClass("sample-visible"),$(".mock-up-image").toggleClass("is-visible")}),$(".mock-up-image").click(function(){$(".mock-up").toggleClass("sample-visible")});$(".team-frame").hover(function(){$(".stats, .img-hover").toggleClass("is-hovered")}),$(".stats").hover(function(){$(".img-hover").toggleClass("is-hovered")}),$("#bh-form").submit(function(e){e.preventDefault(),$.ajax({url:"https://hooks.zapier.com/hooks/catch/4705006/7ydo0k/",type:"post",data:$("#bh-form").serialize(),success:function(){window.location="https://buildhello.ca"}})})}loop(),$(init);"use strict";var searchFn=function(){function m(e){return s.innerHTML=e," "+s.value.trim().toLowerCase().replace(/[^0-9a-z ]/gi," ").replace(/\s+/g," ")+" "}function n(e,s,o){var i=0;return e.forEach(function(e){if(~o.indexOf(e.term))for(var t=o.indexOf(e.term);~t;)i+=e.weight*s,t=o.indexOf(e.term,t+1)}),i}function h(o){var e,i=[];r.index.forEach(function(t){var s;t.tags&&(s=0,o.forEach(function(e){t.title.startsWith(e.term)&&(s+=32*e.weight)}),s+=n(o,1,t.content),s+=n(o,2,t.description),s+=n(o,2,t.subtitle),t.tags.forEach(function(e){s+=n(o,4,e)}),(s+=n(o,16,t.title))&&i.push({weight:s,item:t}))}),i.length?(e=i.length+" items found.",$("#results").addClass("resultsBox"),$("#results-title").addClass("results-title"),$(".search-results").addClass("search-up"),30<i.length&&(e+=" Showing first 30 results."),$("#results-info").html('<p class="p-news" id="results-message">'+e+"</p>"),function(e){e.sort(function(e,t){return t.weight-e.weight});for(var t=0;t<e.length&&t<30;t+=1){var s=e[t].item,o='<article class="post post-search-grid"><a class="title post-search-image" href="'+s.permalink+'#article-title"alt="'+s.showTitle+'"style="background-image: linear-gradient(rgba(0, 0, 0,'+s.showTint+"),rgba(0, 0, 0,"+s.showTint+")),url('"+s.showImage+'\');"></a><a  class="title post-search-title" href="'+s.permalink+'#article-title"><div><h3>'+s.showTitle+"</h3></div></a></article>";$("#results").append(o)}}(i)):($("#results").removeClass("resultsBox"),$("#results-title").removeClass("results-title"),$(".search-results").removeClass("search-up"),$("#results-info").html('<p class="p-news" id="results-message">No items found.</p>'))}function t(){if(!f){var e=m($("#searchBox").val()).trim();if(e!==d){if((d=e).length<2)return $("#results-info").html('<p class="p-news" id="results-message">No items found.</p>'),$("#results").html(" "),$("#btnGo").attr("disabled",!0),0;$("#btnGo").removeAttr("disabled"),f=!0;var t=new Date;$("#results-info").html('<p class="p-news" id="results-message">Processing search...</p>');for(var s=e.split(" "),o=[],i=0;i<s.length;i+=1)for(var n=i;n<s.length;n+=1){for(var r=Math.pow(2,n-i),a="",l=i;l<=n;l+=1)a+=s[l]+" ";var c=a.trim();2<=c.length&&p.indexOf(c)<0&&o.push({weight:r,term:" "+a.trim()+" "})}h(o),f=!1;var u=new Date;$("#results-info").append('<p class="p-news" id="results-message"><small>Search took '+(u-t)+"ms.</small></p>")}}}var d="You are likely to be eaten by a grue.",p=["i","me","my","we","our","you","it","its","this","that","am","is","are","was","be","has","had","do","a","an","the","but","if","or","as","of","at","by","for","with","to","then","no","not","so","too","can","and","but"],s=document.createElement("textarea"),f=!1;$("#searchBox").hide(),$("#btnGo").hide();var r={};$.getJSON("/index.json",function(e){r.index=[];var o={};e.forEach(function(e){var t,s;e.tags&&!o[e.permalink]&&((t={}).showTitle=e.title,t.showDescription=e.description,t.showDate=e.date,t.showSummary=e.summary,t.showAuthor=e.author,t.showImage=e.image,t.showTint=e.tint,t.title=m(e.title),t.subtitle=m(e.subtitle),t.description=m(e.description),t.content=m(e.summary),s=[],e.tags.forEach(function(e){return s.push(m(e))}),t.tags=s,t.permalink=e.permalink,r.index.push(t),o[e.permalink]=!0)}),$("#loading").hide(),$("#btnGo").show(),$("#searchBox").show().removeAttr("disabled").focus(),$("#searchBox").keyup(function(){t()}),$("#btnGo").click(function(){t();var e=window.location.href.split("#")[0];e+="#results",window.location.href=e}),t()})};window.addEventListener("DOMContentLoaded",searchFn);searchFn=function(){function m(e){return s.innerHTML=e," "+s.value.trim().toLowerCase().replace(/[^0-9a-z ]/gi," ").replace(/\s+/g," ")+" "}function n(e,s,o){var i=0;return e.forEach(function(e){if(~o.indexOf(e.term))for(var t=o.indexOf(e.term);~t;)i+=e.weight*s,t=o.indexOf(e.term,t+1)}),i}function h(o){var e,i=[];r.index.forEach(function(t){var s;t.tags&&(s=0,o.forEach(function(e){t.title.startsWith(e.term)&&(s+=32*e.weight)}),s+=n(o,1,t.content),s+=n(o,2,t.description),s+=n(o,2,t.subtitle),t.tags.forEach(function(e){s+=n(o,4,e)}),(s+=n(o,16,t.title))&&i.push({weight:s,item:t}))}),i.length?(e=i.length+" items found.",$("#results").addClass("resultsBox"),$("#results-title").addClass("results-title"),$(".search-results").addClass("search-up"),30<i.length&&(e+=" Showing first 30 results."),$("#results-info").html('<p class="p-news" id="results-message">'+e+"</p>"),function(e){e.sort(function(e,t){return t.weight-e.weight});for(var t=0;t<e.length&&t<30;t+=1){var s=e[t].item,o='<article class="post post-search-grid"><a class="title post-search-image" href="'+s.permalink+'#article-title"alt="'+s.showTitle+'"style="background-image: linear-gradient(rgba(0, 0, 0,'+s.showTint+"),rgba(0, 0, 0,"+s.showTint+")),url('"+s.showImage+'\');"></a><a  class="title post-search-title" href="'+s.permalink+'#article-title"><div><h3>'+s.showTitle+"</h3></div></a></article>";$("#results").append(o)}}(i)):($("#results").removeClass("resultsBox"),$("#results-title").removeClass("results-title"),$(".search-results").removeClass("search-up"),$("#results-info").html('<p class="p-news" id="results-message">No items found.</p>'))}function t(){if(!f){var e=m($("#searchBox").val()).trim();if(e!==d){if((d=e).length<2)return $("#results-info").html('<p class="p-news" id="results-message">No items found.</p>'),$("#results").html(" "),$("#btnGo").attr("disabled",!0),$("#results").removeClass("resultsBox"),$("#results-title").removeClass("results-title"),$(".search-results").removeClass("search-up"),0;$("#btnGo").removeAttr("disabled"),f=!0;var t=new Date;$("#results-info").html('<p class="p-news" id="results-message">Processing search...</p>');for(var s=e.split(" "),o=[],i=0;i<s.length;i+=1)for(var n=i;n<s.length;n+=1){for(var r=Math.pow(2,n-i),a="",l=i;l<=n;l+=1)a+=s[l]+" ";var c=a.trim();2<=c.length&&p.indexOf(c)<0&&o.push({weight:r,term:" "+a.trim()+" "})}h(o),f=!1;var u=new Date;$("#results-info").append('<p class="p-news" id="results-message"><small>Search took '+(u-t)+"ms.</small></p>")}}}var d="You are likely to be eaten by a grue.",p=["i","me","my","we","our","you","it","its","this","that","am","is","are","was","be","has","had","do","a","an","the","but","if","or","as","of","at","by","for","with","to","then","no","not","so","too","can","and","but"],s=document.createElement("textarea"),f=!1;$("#searchBox").hide(),$("#btnGo").hide();var r={};$.getJSON("/index.json",function(e){r.index=[];var o={};e.forEach(function(e){var t,s;e.tags&&!o[e.permalink]&&((t={}).showTitle=e.title,t.showDescription=e.description,t.showDate=e.date,t.showSummary=e.summary,t.showAuthor=e.author,t.showImage=e.image,t.showTint=e.tint,t.title=m(e.title),t.subtitle=m(e.subtitle),t.description=m(e.description),t.content=m(e.summary),s=[],e.tags.forEach(function(e){return s.push(m(e))}),t.tags=s,t.permalink=e.permalink,r.index.push(t),o[e.permalink]=!0)}),$("#loading").hide(),$("#btnGo").show(),$("#searchBox").show().removeAttr("disabled").focus(),$("#searchBox").keyup(function(){t()}),$("#btnGo").click(function(){t();var e=window.location.href.split("#")[0];e+="#results",window.location.href=e}),t()})};window.addEventListener("DOMContentLoaded",searchFn);var scroll=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},elementsToShow=document.querySelectorAll(".show-on-scroll"),elementsToAnimate=document.querySelectorAll(".animate-1-on-scroll"),tagFlip=document.getElementById("animate-1-on-scroll").animate([{opacity:0},{opacity:.3},{opacity:1}],{duration:3800,delay:500,iterations:1,fill:"forwards"});tagFlip.pause();var stop=function(){tagFlip.pause()};function loop(){Array.prototype.forEach.call(elementsToShow,function(e){isElementInViewport(e)?e.classList.add("is-visible"):e.classList.remove("is-visible")}),Array.prototype.forEach.call(elementsToAnimate,function(e){isElementInViewport(e)?void 0!==tagFlip&&tagFlip.play():tagFlip.finish()}),scroll(loop)}function isElementInViewport(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top<=0&&0<=t.bottom||t.bottom>=(window.innerHeight||document.documentElement.clientHeight)&&t.top<=(window.innerHeight||document.documentElement.clientHeight)||0<=t.top&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)}loop();scroll=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},elementsToShow=document.querySelectorAll(".show-on-scroll");function loop(){Array.prototype.forEach.call(elementsToShow,function(e){isElementInViewport(e)?(e.classList.remove("end-transitions"),e.classList.add("is-visible")):(e.classList.remove("is-visible"),e.classList.add("end-transitions"))}),scroll(loop)}function isElementInViewport(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top<=0&&0<=t.bottom||t.bottom>=(window.innerHeight||document.documentElement.clientHeight)&&t.top<=(window.innerHeight||document.documentElement.clientHeight)||0<=t.top&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)}loop();