var scroll=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},elementsToShow=document.querySelectorAll(".show-on-scroll"),elementsToAnimate=document.querySelectorAll(".animate-1-on-scroll");function loop(){Array.prototype.forEach.call(elementsToShow,function(e){isElementInViewport(e)?e.classList.add("is-visible"):e.classList.remove("is-visible")}),Array.prototype.forEach.call(elementsToAnimate,function(e){isElementInViewport(e)&&e.animate([{opacity:0},{opacity:.3},{opacity:1}],{duration:8800,delay:500,fill:"forwards"})}),scroll(loop)}function isElementInViewport(e){e=(e="function"==typeof jQuery&&e instanceof jQuery?e[0]:e).getBoundingClientRect();return e.top<=0&&0<=e.bottom||e.bottom>=(window.innerHeight||document.documentElement.clientHeight)&&e.top<=(window.innerHeight||document.documentElement.clientHeight)||0<=e.top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)}function init(){window.onscroll=function(){window.pageYOffset>=t?e.classList.add("sticky"):e.classList.remove("sticky")};var e=document.getElementById("navigation"),t=e.offsetTop;$(".hamburger").on("click",function(){$(this).toggleClass("is-active"),$("#drop-down").toggleClass("drop-down")}),$(".hamburger").off("click",function(){$(this).toggleClass("is-active"),$("#drop-down").toggleClass("drop-down")}),$(".sample-flip").click(function(){$(".mock-up").toggleClass("sample-visible"),$(".mock-up-image").toggleClass("is-visible")}),$(".mock-up-image").click(function(){$(".mock-up").toggleClass("sample-visible")});$(".team-frame").hover(function(){$(".stats, .img-hover").toggleClass("is-hovered")}),$(".stats").hover(function(){$(".img-hover").toggleClass("is-hovered")}),$("#bh-form").submit(function(e){e.preventDefault(),$.ajax({url:"https://hooks.zapier.com/hooks/catch/4705006/7ydo0k/",type:"post",data:$("#bh-form").serialize(),success:function(){window.location="https://buildhello.ca"}})})}loop(),$(init);"use strict";var searchFn=function(){function u(e){return o.innerHTML=e," "+o.value.trim().toLowerCase().replace(/[^0-9a-z ]/gi," ").replace(/\s+/g," ")+" "}function s(e,o,i){var n=0;return e.forEach(function(e){if(~i.indexOf(e.term))for(var t=i.indexOf(e.term);~t;)n+=e.weight*o,t=i.indexOf(e.term,t+1)}),n}function m(i){var e,n=[];l.index.forEach(function(t){var o;t.tags&&(o=0,i.forEach(function(e){t.title.startsWith(e.term)&&(o+=32*e.weight)}),o+=s(i,1,t.content),o+=s(i,2,t.description),o+=s(i,2,t.subtitle),t.tags.forEach(function(e){o+=s(i,4,e)}),(o+=s(i,16,t.title))&&n.push({weight:o,item:t}))}),n.length?(e=n.length+" items found.",$("#results").addClass("resultsBox"),$("#results-title").addClass("results-title"),$(".search-results").addClass("search-up"),30<n.length&&(e+=" Showing first 30 results."),$("#results-info").html('<p class="p-news" id="results-message">'+e+"</p>"),function(e){e.sort(function(e,t){return t.weight-e.weight});for(var t=0;t<e.length&&t<30;t+=1){var o=e[t].item,o='<article class="post post-search-grid"><a class="title post-search-image" href="'+o.permalink+'#article-title"alt="'+o.showTitle+'"style="background-image: linear-gradient(rgba(0, 0, 0,'+o.showTint+"),rgba(0, 0, 0,"+o.showTint+")),url('"+o.showImage+'\');"></a><p class="results-date">'+o.showDate+'</p><a  class="title post-search-title" href="'+o.permalink+'#article-title"><div><h3>'+o.showTitle+"</h3></div></a></article>";$("#results").append(o)}}(n)):($("#results").removeClass("resultsBox"),$("#results-title").removeClass("results-title"),$(".search-results").removeClass("search-up"),$("#results-info").html('<p class="p-news" id="results-message">No items found.</p>'))}function t(){if(!p){var e=u($("#searchBox").val()).trim();if(e!==d){if((d=e).length<2)return $("#results-info").html('<p class="p-news" id="results-message">No items found.</p>'),$("#results").html(" "),$("#btnGo").attr("disabled",!0),$("#results").removeClass("resultsBox"),$("#results-title").removeClass("results-title"),$(".search-results").removeClass("search-up"),0;$("#btnGo").removeAttr("disabled"),p=!0;var t=new Date;$("#results-info").html('<p class="p-news" id="results-message">Processing search...</p>');for(var o=e.split(" "),i=[],n=0;n<o.length;n+=1)for(var s=n;s<o.length;s+=1){for(var l=Math.pow(2,s-n),r="",a=n;a<=s;a+=1)r+=o[a]+" ";var c=r.trim();2<=c.length&&h.indexOf(c)<0&&i.push({weight:l,term:" "+r.trim()+" "})}m(i),p=!1;e=new Date;$("#results-info").append('<p class="p-news" id="results-message"><small>Search took '+(e-t)+"ms.</small></p>")}}}var d="You are likely to be eaten by a grue.",h=["i","me","my","we","our","you","it","its","this","that","am","is","are","was","be","has","had","do","a","an","the","but","if","or","as","of","at","by","for","with","to","then","no","not","so","too","can","and","but"],o=document.createElement("textarea"),p=!1;$("#searchBox").hide(),$("#btnGo").hide();var l={};$.getJSON("/index.json",function(e){l.index=[];var i={};e.forEach(function(e){var t,o;e.tags&&!i[e.permalink]&&((t={}).showTitle=e.title,t.showDescription=e.description,t.showDate=e.date,t.showSummary=e.summary,t.showAuthor=e.author,t.showImage=e.image,t.showTint=e.tint,t.title=u(e.title),t.subtitle=u(e.subtitle),t.description=u(e.description),t.content=u(e.summary),o=[],e.tags.forEach(function(e){return o.push(u(e))}),t.tags=o,t.permalink=e.permalink,l.index.push(t),i[e.permalink]=!0)}),$("#loading").hide(),$("#btnGo").show(),$("#searchBox").show().removeAttr("disabled").focus(),$("#searchBox").keyup(function(){t()}),$("#btnGo").click(function(){t();var e=window.location.href.split("#")[0];e+="#results",window.location.href=e}),t()})};window.addEventListener("DOMContentLoaded",searchFn);var scroll=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},elementsToShow=document.querySelectorAll(".show-on-scroll"),elementsToAnimate=document.querySelectorAll(".animate-1-on-scroll"),tagFlip=document.getElementById("animate-1-on-scroll").animate([{opacity:0},{opacity:.3},{opacity:1}],{duration:3800,delay:500,iterations:1,fill:"forwards"});tagFlip.pause();var stop=function(){tagFlip.pause()};function loop(){Array.prototype.forEach.call(elementsToShow,function(e){isElementInViewport(e)?e.classList.add("is-visible"):e.classList.remove("is-visible")}),Array.prototype.forEach.call(elementsToAnimate,function(e){isElementInViewport(e)?void 0!==tagFlip&&tagFlip.play():tagFlip.finish()}),scroll(loop)}function isElementInViewport(e){e=(e="function"==typeof jQuery&&e instanceof jQuery?e[0]:e).getBoundingClientRect();return e.top<=0&&0<=e.bottom||e.bottom>=(window.innerHeight||document.documentElement.clientHeight)&&e.top<=(window.innerHeight||document.documentElement.clientHeight)||0<=e.top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)}loop();scroll=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},elementsToShow=document.querySelectorAll(".show-on-scroll");function loop(){Array.prototype.forEach.call(elementsToShow,function(e){isElementInViewport(e)?(e.classList.remove("end-transitions"),e.classList.add("is-visible")):(e.classList.remove("is-visible"),e.classList.add("end-transitions"))}),scroll(loop)}function isElementInViewport(e){e=(e="function"==typeof jQuery&&e instanceof jQuery?e[0]:e).getBoundingClientRect();return e.top<=0&&0<=e.bottom||e.bottom>=(window.innerHeight||document.documentElement.clientHeight)&&e.top<=(window.innerHeight||document.documentElement.clientHeight)||0<=e.top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)}loop();