(function(){let c=null,r=null,s=null,o=!1,i=null,t="",h=[];const j=window.location.protocol+"//"+window.location.host+"/search.json",g=document.querySelector(".searchBox"),p=document.getElementById("searchBox"),x=document.getElementById("search-result"),m=document.querySelector(".results"),n=document.getElementById("results-info"),e=document.createElement("p");e.id="results-message",e.className="b-news";const a=document.querySelector("#results"),u=document.getElementById("results-search-title"),d=document.getElementById("results-banner-title"),l=document.querySelector(".search-results"),C=document.getElementById("results-info");let b=function(){p.addEventListener("keyup",function(){(event.shiftKey||event.keyCode==32)&&event.preventDefault(),(!event.shiftKey||!event.keycode==32)&&(y(),event.preventDefault())})},v=2,y=function(){t=p.value,(t.length==="undefined"||t.length===null||!t||t.length<v||t===null)&&(e.textContent=`No results found.`,n.appendChild(e),m.classList.remove("showResults")),t.length>=v&&(event.preventDefault(),_(t,!1),m.classList.add("showResults"))};function _(e,t){e=e.trim(),g.setAttribute("data-running","true"),c?f(e,t):s?(s=e,o=t):(s=e,o=t,O())}function w(){g.removeAttribute("data-running"),s=null,o=!1}function O(){const e=new XMLHttpRequest;e.responseType="json",e.open("GET",j,!0),e.onload=function(){let t=e.response;r={},c=lunr(function(){this.ref("permalink"),this.field("permalink"),this.field("title"),this.field("date"),this.field("image"),this.field("description"),this.field("tint"),this.field("color"),this.field("summary"),this.field("tags"),this.field("categories");for(let e of t)this.add(e),r[e.permalink]=e}),f(s,o)};function t(){console.log("Something wrong forming, parsing, transmitting this xhttp request or response")}e.onreadystatechange=()=>{if(e.status===404){console.log("Returned a 404 page, so your data is either blocked or missing");return}},e.send(null)}function f(t,s){try{let m=c.search(t),o=document.getElementById("results"),f=[];for(;o.firstChild;)f.push(o.firstChild),o.removeChild(o.firstChild);for(i||(i=f);n.firstChild;)h.push(n.firstChild),n.removeChild(n.firstChild);i||(i=h),m.length==0?(e.textContent=`No results found.`,a.classList.remove("resultsBox"),u.classList.remove("results-title"),d.classList.remove("results-title"),l.classList.remove("search-up"),a.classList.add("resultsBox")):m.length==1?(e.textContent=`1 result found.`,a.classList.add("resultsBox"),u.classList.add("results-title"),d.classList.add("results-title"),l.classList.add("search-up")):(e.textContent=`Found ${m.length} results for (${t}).`,a.classList.add("resultsBox"),u.classList.add("results-title"),d.classList.add("results-title"),l.classList.add("search-up")),n.appendChild(e);for(let n of m){let e=r[n.ref],t=x.content.cloneNode(!0);if(t.querySelector(".side-preview-image").href=e.permalink,e.color){let n="linear-gradient(rgba("+e.color+", 1), rgba("+e.color+', 1)), url(" ")';t.querySelector(".side-preview-image").style.background=n}t.querySelector(".search-img").src=e.image,e.tint&&(t.querySelector(".search-img").style.opacity=e.tint),t.querySelector(".post-date").textContent=e.date,t.querySelector(".post-search-title").href=e.permalink,t.querySelector(".search-title").textContent=e.title,o.appendChild(t)}s||history.pushState({type:"search",term:t},e.textContent,"#search="+encodeURIComponent(t))}catch(e){console.error(e)}finally{w()}}function E(e,t){let n,s="",o=0,i=/(\S+)(\s*)/g;for(;n=i.exec(e);)if(o++,o<=t)s+=n[0];else{let e=n[1][n[1].length-1],t=n[2][0];if(/[.?!"]/.test(e)||t==`
`){s+=n[1];break}s+=n[0]}return s}b()})()