(function(){let m=null,h=null,d=null,e=!1,f=null,b="",n=[];const u=window.location.protocol+"//"+window.location.host+'/search.json',p=document.querySelector(".searchBox"),l=document.getElementById("searchBox"),y=document.getElementById('search-result'),r=document.querySelector('.results'),c=document.getElementById("results-info"),a=document.createElement("p");a.id="results-message",a.className="p-news";const g=document.querySelector("#results"),k=document.getElementById('results-search-title'),j=document.getElementById('results-banner-title'),i=document.querySelector(".search-results"),z=document.getElementById('results-info');let t=function(){l.addEventListener('keyup',function(){(event.shiftKey||event.keyCode==32)&&event.preventDefault(),(!event.shiftKey||!even.keycode==32)&&(v(),event.preventDefault())})},q=2,v=function(){b=l.value,(b.length==="undefined"||b.length===null||!b||b.length<q)&&(a.textContent=`No results found.`,c.appendChild(a),r.classList.remove('showResults')),b.length>=q&&(event.preventDefault(),w(b,!1),r.classList.add('showResults'))};function w(a,b){l.value=a,a=a.trim(),p.setAttribute("data-running","true"),m?o(a,b):d?(d=a,e=b):(d=a,e=b,s())}function x(){p.removeAttribute("data-running"),d=null,e=!1}function s(){const a=new XMLHttpRequest;a.responseType='json',a.open('GET',u,!0),a.onload=function(){let b=a.response;h={},m=lunr(function(){this.ref('permalink'),this.field("permalink"),this.field("title"),this.field("date"),this.field("image"),this.field("summary"),this.field("tint"),this.field("color"),this.field("summary");for(let a of b)this.add(a),h[a.permalink]=a}),o(d,e)};function b(a){console.log("Something wrong forming, parsing, transmitting this xhttp request or response")}a.onreadystatechange=()=>{if(a.status===404){console.log('Returned a 404 page, so your data is either blocked or missing');return}},a.send(null)}function o(b,d){try{let l=m.search(b),e=document.getElementById("results"),o=[];while(e.firstChild)o.push(e.firstChild),e.removeChild(e.firstChild);for(f||(f=o);c.firstChild;)n.push(c.firstChild),c.removeChild(c.firstChild);f||(f=n),l.length==0?(a.textContent=`No results found.`,g.classList.remove('resultsBox'),k.classList.remove('results-title'),j.classList.remove('results-title'),i.classList.remove('search-up'),g.classList.add('resultsBox')):l.length==1?(a.textContent=`1 result found.`,g.classList.add('resultsBox'),k.classList.add('results-title'),j.classList.add('results-title'),i.classList.add('search-up')):(a.textContent=`Found ${l.length} results for (${b}).`,g.classList.add('resultsBox'),k.classList.add('results-title'),j.classList.add('results-title'),i.classList.add('search-up')),c.appendChild(a);for(let c of l){let a=h[c.ref],b=y.content.cloneNode(!0);if(b.querySelector(".side-preview-image").href=a.permalink,a.color){let c='linear-gradient(rgba('+a.color+', 1), rgba('+a.color+', 1)), url(" ")';b.querySelector(".side-preview-image").style.background=c}b.querySelector(".search-img").src=a.image,a.tint&&(b.querySelector(".search-img").style.opacity=a.tint),b.querySelector(".post-date").textContent=a.date,b.querySelector(".post-search-title").href=a.permalink,b.querySelector(".search-title").textContent=a.title,e.appendChild(b)}d||history.pushState({type:"search",term:b},a.textContent,"#search="+encodeURIComponent(b))}catch(a){console.error(a)}finally{x()}}function A(d,e){let a,b="",c=0,f=/(\S+)(\s*)/g;while(a=f.exec(d))if(c++,c<=e)b+=a[0];else{let c=a[1][a[1].length-1],d=a[2][0];if(/[.?!"]/.test(c)||d=="\n"){b+=a[1];break}b+=a[0]}return b}t()})()