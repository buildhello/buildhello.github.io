(function(){let l=null,h=null,d=null,e=!1,g=null,b="",r=[];const t=window.location.protocol+"//"+window.location.host+'/search.json',p=document.querySelector(".searchBox"),o=document.getElementById("searchBox"),u=document.getElementById('search-result'),q=document.querySelector('.results'),c=document.getElementById("results-info"),a=document.createElement("p");a.id="results-message",a.className="b-news";const f=document.querySelector("#results"),k=document.getElementById('results-search-title'),j=document.getElementById('results-banner-title'),i=document.querySelector(".search-results"),z=document.getElementById('results-info');let s=function(){o.addEventListener('keyup',function(){(event.shiftKey||event.keyCode==32)&&event.preventDefault(),(!event.shiftKey||!event.keycode==32)&&(v(),event.preventDefault())})},n=2,v=function(){b=o.value,(b.length==="undefined"||b.length===null||!b||b.length<n||b===null)&&(a.textContent=`No results found.`,c.appendChild(a),q.classList.remove('showResults')),b.length>=n&&(event.preventDefault(),w(b,!1),q.classList.add('showResults'))};function w(a,b){a=a.trim(),p.setAttribute("data-running","true"),l?m(a,b):d?(d=a,e=b):(d=a,e=b,y())}function x(){p.removeAttribute("data-running"),d=null,e=!1}function y(){const a=new XMLHttpRequest;a.responseType='json',a.open('GET',t,!0),a.onload=function(){let b=a.response;h={},l=lunr(function(){this.ref('permalink'),this.field("permalink"),this.field("title"),this.field("date"),this.field("image"),this.field("description"),this.field("tint"),this.field("color"),this.field("summary"),this.field("tags"),this.field("categories");for(let a of b)this.add(a),h[a.permalink]=a}),m(d,e)};function b(a){console.log("Something wrong forming, parsing, transmitting this xhttp request or response")}a.onreadystatechange=()=>{if(a.status===404){console.log('Returned a 404 page, so your data is either blocked or missing');return}},a.send(null)}function m(b,d){try{let m=l.search(b),e=document.getElementById("results"),n=[];while(e.firstChild)n.push(e.firstChild),e.removeChild(e.firstChild);for(g||(g=n);c.firstChild;)r.push(c.firstChild),c.removeChild(c.firstChild);g||(g=r),m.length==0?(a.textContent=`No results found.`,f.classList.remove('resultsBox'),k.classList.remove('results-title'),j.classList.remove('results-title'),i.classList.remove('search-up'),f.classList.add('resultsBox')):m.length==1?(a.textContent=`1 result found.`,f.classList.add('resultsBox'),k.classList.add('results-title'),j.classList.add('results-title'),i.classList.add('search-up')):(a.textContent=`Found ${m.length} results for (${b}).`,f.classList.add('resultsBox'),k.classList.add('results-title'),j.classList.add('results-title'),i.classList.add('search-up')),c.appendChild(a);for(let c of m){let a=h[c.ref],b=u.content.cloneNode(!0);if(b.querySelector(".side-preview-image").href=a.permalink,a.color){let c='linear-gradient(rgba('+a.color+', 1), rgba('+a.color+', 1)), url(" ")';b.querySelector(".side-preview-image").style.background=c}b.querySelector(".search-img").src=a.image,a.tint&&(b.querySelector(".search-img").style.opacity=a.tint),b.querySelector(".post-date").textContent=a.date,b.querySelector(".post-search-title").href=a.permalink,b.querySelector(".search-title").textContent=a.title,e.appendChild(b)}d||history.pushState({type:"search",term:b},a.textContent,"#search="+encodeURIComponent(b))}catch(a){console.error(a)}finally{x()}}function A(d,e){let a,b="",c=0,f=/(\S+)(\s*)/g;while(a=f.exec(d))if(c++,c<=e)b+=a[0];else{let c=a[1][a[1].length-1],d=a[2][0];if(/[.?!"]/.test(c)||d=="\n"){b+=a[1];break}b+=a[0]}return b}s()})()