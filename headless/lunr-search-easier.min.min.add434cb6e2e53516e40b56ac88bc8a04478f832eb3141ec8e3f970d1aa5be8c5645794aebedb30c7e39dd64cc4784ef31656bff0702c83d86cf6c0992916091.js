(function(){let u=null,r=null,s=null,o=!1,a=null,t="",v=[];const j=window.location.protocol+"//"+window.location.host+"/search.json",p=document.querySelector(".searchBox"),f=document.getElementById("searchBox"),y=document.getElementById("search-result"),g=document.querySelector(".results"),n=document.getElementById("results-info"),e=document.createElement("p");e.id="results-message",e.className="b-news";const i=document.querySelector("#results"),d=document.getElementById("results-search-title"),l=document.getElementById("results-banner-title"),c=document.querySelector(".search-results"),C=document.getElementById("results-info");let b=function(){f.addEventListener("keyup",function(){(event.shiftKey||event.keyCode==32)&&event.preventDefault(),(!event.shiftKey||!event.keycode==32)&&(_(),event.preventDefault())})},m=2,_=function(){t=f.value,(t.length==="undefined"||t.length===null||!t||t.length<m||t===null)&&(e.textContent=`No results found.`,n.appendChild(e),g.classList.remove("showResults")),t.length>=m&&(event.preventDefault(),w(t,!1),g.classList.add("showResults"))};function w(e,t){e=e.trim(),p.setAttribute("data-running","true"),u?h(e,t):s?(s=e,o=t):(s=e,o=t,x())}function O(){p.removeAttribute("data-running"),s=null,o=!1}function x(){const e=new XMLHttpRequest;e.responseType="json",e.open("GET",j,!0),e.onload=function(){let t=e.response;r={},u=lunr(function(){this.ref("permalink"),this.field("permalink"),this.field("title"),this.field("date"),this.field("image"),this.field("description"),this.field("tint"),this.field("color"),this.field("summary"),this.field("tags"),this.field("categories");for(let e of t)this.add(e),r[e.permalink]=e}),h(s,o)};function t(){console.log("Something wrong forming, parsing, transmitting this xhttp request or response")}e.onreadystatechange=()=>{if(e.status===404){console.log("Returned a 404 page, so your data is either blocked or missing");return}},e.send(null)}function h(t,s){try{let h=u.search(t),o=document.getElementById("results"),m=[];for(;o.firstChild;)m.push(o.firstChild),o.removeChild(o.firstChild);for(a||(a=m);n.firstChild;)v.push(n.firstChild),n.removeChild(n.firstChild);a||(a=v),h.length==0?(e.textContent=`No results found.`,i.classList.remove("resultsBox"),d.classList.remove("results-title"),l.classList.remove("results-title"),c.classList.remove("search-up"),i.classList.add("resultsBox")):h.length==1?(e.textContent=`1 result found.`,i.classList.add("resultsBox"),d.classList.add("results-title"),l.classList.add("results-title"),c.classList.add("search-up")):(e.textContent=`Found ${h.length} results for (${t}).`,i.classList.add("resultsBox"),d.classList.add("results-title"),l.classList.add("results-title"),c.classList.add("search-up")),n.appendChild(e);for(let n of h){let e=r[n.ref],t=y.content.cloneNode(!0);if(t.querySelector(".side-preview-image").href=e.permalink,e.color){let n="linear-gradient(rgba("+e.color+", 1), rgba("+e.color+', 1)), url(" ")';t.querySelector(".side-preview-image").style.background=n}t.querySelector(".search-img").src=e.image,e.tint&&(t.querySelector(".search-img").style.opacity=e.tint),t.querySelector(".post-date").textContent=e.date,t.querySelector(".post-search-title").href=e.permalink,t.querySelector(".search-title").textContent=e.title,o.appendChild(t)}s||history.pushState({type:"search",term:t},e.textContent,"#search="+encodeURIComponent(t))}catch(e){console.error(e)}finally{O()}}function E(e,t){let n,s="",o=0,i=/(\S+)(\s*)/g;for(;n=i.exec(e);)if(o++,o<=t)s+=n[0];else{let e=n[1][n[1].length-1],t=n[2][0];if(/[.?!"]/.test(e)||t==`
`){s+=n[1];break}s+=n[0]}return s}b()})()